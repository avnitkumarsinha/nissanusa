!function(t){function e(e){for(var n,o,i=e[0],s=e[1],a=0,u=[];a<i.length;a++)o=i[a],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(c&&c(e);u.length;)u.shift()()}var n={},r={2:0};function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(t){var e=[],n=o(7),i=r[t];if(0!==i)if(i)e.push(i[2]);else{var s=new n((function(e,n){i=r[t]=[e,n]}));e.push(i[2]=s);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(t){return o.p+""+({0:"overlay"}[t]||t)+"-"+{0:"6b1668e07e589409c7869e6ca7882cc2"}[t]+".static.js"}(t);var u=new Error;a=function(e){c.onerror=c.onload=null,clearTimeout(h);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",u.name="ChunkLoadError",u.type=o,u.request=i,n[1](u)}r[t]=void 0}};var h=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return n.all(e)},o.m=t,o.c=n,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/dist/",o.oe=function(t){throw console.error(t),t};var i=window.smasi_wpJsonp=window.smasi_wpJsonp||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var a=0;a<i.length;a++)e(i[a]);var c=s;o(o.s=34)}([,function(t,e,n){"use strict";function r(t,e){try{t&&e in t&&delete t[e]}catch(n){t[e]=void 0}}function o(){return"*tmp*"+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})).replace(/-/g,"")}function i(){return navigator.vendor.indexOf("Apple")>-1&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")}var s;function a(t){if(!t)return s||(s=a(window.location.hostname)),s;for(var e=new Array,n=t.length;(n=t.lastIndexOf(".",n-1))>0;)e.push(t.substr(n+1));return e.push(t),e}function c(t){t||(t=window.location.hostname);for(var e=t.length,n=0;(e=t.lastIndexOf(".",e-1))>0;)n++;return n}function u(t,e){if(!(t<0)){e||(e=window.location.hostname);for(var n=e.length,r=0;(n=e.lastIndexOf(".",n-1))>-1;){if(r>=t||0===n)return e.substr(n+1);r++}return e}}function h(t,e){t.innerHTML=e;for(var n=t.getElementsByTagName("script"),r=0;r<n.length;r++){var o=n[r],i=document.createElement("script");""!=o.src?i.src=n[r].src:i.text=o.text,i.type="text/javascript",o.parentNode&&(o.parentNode.insertBefore(i,o),o.parentNode.removeChild(o))}}function f(t){if(t)if(document.body)t();else{var e=!1,n=function(){e||document.body&&(e=!0,t())},r=function(){n()},o=window.onreadystatechange;window.addEventListener?(window.addEventListener("DOMContentLoaded",(function(){n()}),!1),window.addEventListener("load",r,!1)):window.attachEvent&&window.attachEvent("onload",r),window.onreadystatechange=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{n()}catch(t){}return null==o?void 0:o.apply(this,t)}}}function l(t){return t?t.split("?")[0].split("#")[0]:""}n.d(e,"h",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"g",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"f",(function(){return h})),n.d(e,"i",(function(){return f})),n.d(e,"d",(function(){return l}))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return C})),n.d(e,"c",(function(){return S})),n.d(e,"h",(function(){return _})),n.d(e,"k",(function(){return x})),n.d(e,"n",(function(){return A})),n.d(e,"e",(function(){return E})),n.d(e,"j",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"l",(function(){return f})),n.d(e,"o",(function(){return l})),n.d(e,"i",(function(){return d})),n.d(e,"g",(function(){return p})),n.d(e,"b",(function(){return v})),n.d(e,"m",(function(){return g}));var r,o,i,s,a,c,u,h,f,l,d,p,y,v,m,g,w=n(8),b=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),O=function(){function e(t){void 0===t&&(t=!1),this.withCredentials=t}return e.prototype.transformOptions=function(e){return e.mode="cors",e.headers&&(e.headers["Content-Type"]="text/plain"),e.credentials=this.withCredentials?"include":void 0,t.resolve(e)},e}(),C=function(e){function n(t,n,r){void 0===n&&(n=!1);var o=e.call(this,n)||this;return o.jsonParseReviver=void 0,o.http=r||w.a,o.baseUrl=t||"",o}return b(n,e),n.prototype.actionEvent=function(t){var e=this,n=this.baseUrl+"/api/ActionEvent";n=n.replace(/[?&]$/,"");var r={body:JSON.stringify(t),method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}};return this.transformOptions(r).then((function(t){return e.http.fetch(n,t)})).then((function(t){return e.processActionEvent(t)}))},n.prototype.processActionEvent=function(e){var n=this,r=e.status,o={};return e.headers&&e.headers.forEach&&e.headers.forEach((function(t,e){return o[e]=t})),200===r?e.text().then((function(t){return""===t?null:JSON.parse(t,n.jsonParseReviver)})):200!==r&&204!==r?e.text().then((function(t){return j("An unexpected server error occurred.",r,t,o)})):t.resolve(null)},n}(O),S=function(e){function n(t,n,r){void 0===n&&(n=!1);var o=e.call(this,n)||this;return o.jsonParseReviver=void 0,o.http=r||w.a,o.baseUrl=t||"",o}return b(n,e),n.prototype.actionRevert=function(t){var e=this,n=this.baseUrl+"/api/ActionRevert";n=n.replace(/[?&]$/,"");var r={body:JSON.stringify(t),method:"POST",headers:{"Content-Type":"application/json",Accept:"application/octet-stream"}};return this.transformOptions(r).then((function(t){return e.http.fetch(n,t)})).then((function(t){return e.processActionRevert(t)}))},n.prototype.processActionRevert=function(e){var n=e.status,r={};if(e.headers&&e.headers.forEach&&e.headers.forEach((function(t,e){return r[e]=t})),200===n||206===n){var o=e.headers?e.headers.get("content-disposition"):void 0,i=o?/filename="?([^"]*?)"?(;|$)/g.exec(o):void 0,s=i&&i.length>1?i[1]:void 0;return e.blob().then((function(t){return{fileName:s,data:t,status:n,headers:r}}))}return 200!==n&&204!==n?e.text().then((function(t){return j("An unexpected server error occurred.",n,t,r)})):t.resolve(null)},n}(O),_=function(e){function n(t,n,r){void 0===n&&(n=!1);var o=e.call(this,n)||this;return o.jsonParseReviver=void 0,o.http=r||w.a,o.baseUrl=t||"",o}return b(n,e),n.prototype.error=function(t){var e=this,n=this.baseUrl+"/api/Error";n=n.replace(/[?&]$/,"");var r={body:JSON.stringify(t),method:"POST",headers:{"Content-Type":"application/json",Accept:"application/octet-stream"}};return this.transformOptions(r).then((function(t){return e.http.fetch(n,t)})).then((function(t){return e.processError(t)}))},n.prototype.processError=function(e){var n=e.status,r={};if(e.headers&&e.headers.forEach&&e.headers.forEach((function(t,e){return r[e]=t})),200===n||206===n){var o=e.headers?e.headers.get("content-disposition"):void 0,i=o?/filename="?([^"]*?)"?(;|$)/g.exec(o):void 0,s=i&&i.length>1?i[1]:void 0;return e.blob().then((function(t){return{fileName:s,data:t,status:n,headers:r}}))}return 200!==n&&204!==n?e.text().then((function(t){return j("An unexpected server error occurred.",n,t,r)})):t.resolve(null)},n}(O),x=function(e){function n(t,n,r){void 0===n&&(n=!1);var o=e.call(this,n)||this;return o.jsonParseReviver=void 0,o.http=r||w.a,o.baseUrl=t||"",o}return b(n,e),n.prototype.rtde=function(t){var e=this,n=this.baseUrl+"/api/rtde";n=n.replace(/[?&]$/,"");var r={body:JSON.stringify(t),method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}};return this.transformOptions(r).then((function(t){return e.http.fetch(n,t)})).then((function(t){return e.processRtde(t)}))},n.prototype.processRtde=function(e){var n=this,r=e.status,o={};return e.headers&&e.headers.forEach&&e.headers.forEach((function(t,e){return o[e]=t})),200===r?e.text().then((function(t){return""===t?null:JSON.parse(t,n.jsonParseReviver)})):200!==r&&204!==r?e.text().then((function(t){return j("An unexpected server error occurred.",r,t,o)})):t.resolve(null)},n}(O),A=function(e){function n(t,n,r){void 0===n&&(n=!1);var o=e.call(this,n)||this;return o.jsonParseReviver=void 0,o.http=r||w.a,o.baseUrl=t||"",o}return b(n,e),n.prototype.userProfile=function(t){var e=this,n=this.baseUrl+"/api/UserProfile";n=n.replace(/[?&]$/,"");var r={body:JSON.stringify(t),method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}};return this.transformOptions(r).then((function(t){return e.http.fetch(n,t)})).then((function(t){return e.processUserProfile(t)}))},n.prototype.processUserProfile=function(e){var n=this,r=e.status,o={};return e.headers&&e.headers.forEach&&e.headers.forEach((function(t,e){return o[e]=t})),200===r?e.text().then((function(t){return""===t?null:JSON.parse(t,n.jsonParseReviver)})):200!==r&&204!==r?e.text().then((function(t){return j("An unexpected server error occurred.",r,t,o)})):t.resolve(null)},n}(O),E=function(e){function n(t,n,r){void 0===n&&(n=!1);var o=e.call(this,n)||this;return o.jsonParseReviver=void 0,o.http=r||w.a,o.baseUrl=t||"",o}return b(n,e),n.prototype.getOrSetUserCookie=function(t){var e=this,n=this.baseUrl+"/api/v2/Cookie/GetOrSetUserCookie?";null!=t&&(n+="cookieName="+encodeURIComponent(""+t)+"&"),n=n.replace(/[?&]$/,"");return this.transformOptions({method:"POST",headers:{Accept:"application/json"}}).then((function(t){return e.http.fetch(n,t)})).then((function(t){return e.processGetOrSetUserCookie(t)}))},n.prototype.processGetOrSetUserCookie=function(e){var n=this,r=e.status,o={};return e.headers&&e.headers.forEach&&e.headers.forEach((function(t,e){return o[e]=t})),200===r?e.text().then((function(t){return""===t?null:JSON.parse(t,n.jsonParseReviver)})):200!==r&&204!==r?e.text().then((function(t){return j("An unexpected server error occurred.",r,t,o)})):t.resolve(null)},n.prototype.setUserCookie=function(t,e){var n=this,r=this.baseUrl+"/api/v2/Cookie/SetUserCookie?";null!=t&&(r+="cookieName="+encodeURIComponent(""+t)+"&"),r=r.replace(/[?&]$/,"");var o={body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}};return this.transformOptions(o).then((function(t){return n.http.fetch(r,t)})).then((function(t){return n.processSetUserCookie(t)}))},n.prototype.processSetUserCookie=function(e){var n=e.status,r={};return e.headers&&e.headers.forEach&&e.headers.forEach((function(t,e){return r[e]=t})),200===n?e.text().then((function(t){})):200!==n&&204!==n?e.text().then((function(t){return j("An unexpected server error occurred.",n,t,r)})):t.resolve(null)},n}(O);!function(t){t[t.Basic=1]="Basic",t[t.Open=2]="Open",t[t.Trigger=3]="Trigger",t[t.CloseButton=4]="CloseButton"}(o||(o={})),function(t){t[t.Script=1]="Script",t[t.Cookie=2]="Cookie",t[t.Pixel=3]="Pixel",t[t.TrackingResponse=4]="TrackingResponse",t[t.GetApi=5]="GetApi",t[t.PostApi=6]="PostApi",t[t.CustomHandover1=7]="CustomHandover1"}(i||(i={})),function(t){t[t.Cookie=1]="Cookie",t[t.Overlay=2]="Overlay",t[t.Script=3]="Script",t[t.Html=4]="Html",t[t.Voucher=5]="Voucher",t[t.Pixel=6]="Pixel"}(s||(s={})),function(t){t[t.Overlay=1]="Overlay",t[t.Banderole=2]="Banderole",t[t.Voucher=3]="Voucher",t[t.Custom=4]="Custom",t[t.CustomScript=5]="CustomScript",t[t.Pixel=6]="Pixel",t[t.Cookie=7]="Cookie",t[t.ContentPersonalization=8]="ContentPersonalization",t[t.InfoHandover=9]="InfoHandover",t[t.ExternalOverlay=10]="ExternalOverlay",t[t.Widget=11]="Widget",t[t.Notification=12]="Notification"}(a||(a={})),function(t){t[t.Visual=1]="Visual",t[t.Invisible=2]="Invisible"}(c||(c={})),function(t){t[t.Simple=1]="Simple",t[t.ConversionProductDependent=2]="ConversionProductDependent",t[t.ProductRankDependent=3]="ProductRankDependent",t[t.LastPageClassProductDependent=4]="LastPageClassProductDependent",t[t.ActiveProductDependent=5]="ActiveProductDependent",t[t.PageClassDependent=6]="PageClassDependent",t[t.TopicRankDependant=7]="TopicRankDependant"}(u||(u={})),function(t){t[t.None=0]="None",t[t.Product=1]="Product",t[t.PageClass=2]="PageClass",t[t.Topic=3]="Topic"}(h||(h={})),function(t){t[t.Pixels=1]="Pixels",t[t.Percent=2]="Percent"}(f||(f={})),function(t){t[t.Center=1]="Center",t[t.Bottom=2]="Bottom",t[t.Top=3]="Top"}(l||(l={})),function(t){t[t.Center=1]="Center",t[t.Left=2]="Left",t[t.Right=3]="Right"}(d||(d={})),function(t){t[t.Dynamic=1]="Dynamic",t[t.Static=2]="Static"}(p||(p={})),function(t){t[t.Top=1]="Top",t[t.Bottom=2]="Bottom",t[t.Left=3]="Left",t[t.Right=4]="Right"}(y||(y={})),function(t){t[t.OverlayOpened=1]="OverlayOpened",t[t.OverlayClosed=2]="OverlayClosed",t[t.Trigger=3]="Trigger",t[t.OverlayDiscarded=4]="OverlayDiscarded",t[t.Submit=5]="Submit"}(v||(v={})),function(t){t[t.NativeClose=1]="NativeClose",t[t.TemplateClose=2]="TemplateClose",t[t.InnerActionClose=3]="InnerActionClose",t[t.SystemClose=4]="SystemClose"}(m||(m={})),function(t){t[t.Local=1]="Local",t[t.CrossDomain=2]="CrossDomain",t[t.LocalServerSide=3]="LocalServerSide",t[t.UrlParameter=4]="UrlParameter"}(g||(g={}));var I=function(t){function e(e,n,r,o,i){var s=t.call(this)||this;return s.isApiException=!0,s.message=e,s.status=n,s.response=r,s.headers=o,s.result=i,s}return b(e,t),e.isApiException=function(t){return!0===t.isApiException},e}(Error);function j(t,e,n,r,o){throw null!=o?o:new I(t,e,n,r,null)}}).call(this,n(7))},function(t,e,n){var r,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o),!0,t.exports=i(),!!0){var s=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=s,a}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in i)i[c]&&(a+="; "+c,!0!==i[c]&&(a+="="+i[c].split(";")[0]));return document.cookie=e+"="+n+a}}function s(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var a=i[s].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=e(a[0]);if(c=(r.read||r)(c,u)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(o[u]=c,t===u)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return s(t,!1)},o.getJSON=function(t){return s(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},function(t,e,n){t.exports=function(){"use strict";return function(){var t=Math.floor(1000001*Math.random()),e={};function n(t){return Array.isArray?Array.isArray(t):-1!=t.constructor.toString().indexOf("Array")}var r={},o=function(t){try{var n=JSON.parse(t.data);if("object"!=typeof n||null===n)throw"malformed"}catch(t){return}var o,i,s,a=t.source,c=t.origin;if("string"==typeof n.method){var u=n.method.split("::");2==u.length?(o=u[0],s=u[1]):s=n.method}if(void 0!==n.id&&(i=n.id),"string"==typeof s){var h=!1;if(e[c]&&e[c][o])for(var f=0;f<e[c][o].length;f++)try{if(e[c][o][f].win===a){e[c][o][f].handler(c,s,n),h=!0;break}}catch(t){}if(!h&&e["*"]&&e["*"][o])for(f=0;f<e["*"][o].length;f++)try{if(e["*"][o][f].win===a){e["*"][o][f].handler(c,s,n);break}}catch(t){}}else void 0!==i&&r[i]&&r[i](c,s,n)};return window.addEventListener?window.addEventListener("message",o,!1):window.attachEvent&&window.attachEvent("onmessage",o),{build:function(o){var i=function(t){if(o.debugOutput&&window.console&&window.console.log){try{"string"!=typeof t&&(t=JSON.stringify(t))}catch(t){}window.console.log("["+c+"] "+t)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if("object"!=typeof o)throw"Channel build invoked without a proper object argument";if(!o.window||!o.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===o.window)throw"target window is same as present window -- not allowed";var s,a=!1;if("string"==typeof o.origin&&("*"===o.origin?a=!0:null!==(s=o.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))&&(o.origin=s[0].toLowerCase(),a=!0)),!a)throw"Channel.build() called with an invalid origin";if(void 0!==o.scope){if("string"!=typeof o.scope)throw"scope, when specified, must be a string";if(o.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}else o.scope="__default";var c=function(){for(var t="",e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=0;n<5;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}(),u={},h={},f={},l=!1,d=[],p=[],y=function(t,e,s){if("function"==typeof o.gotMessageObserver)try{o.gotMessageObserver(t,s)}catch(t){i("gotMessageObserver() raised an exception: "+t.toString())}if(s.id&&e){f[s.id]={};var a=function(t,e,n){var r=!1,o=!1;return{origin:e,invoke:function(e,r){if(!f[t])throw"attempting to invoke a callback of a nonexistent transaction: "+t;for(var o=!1,i=0;i<n.length;i++)if(e===n[i]){o=!0;break}if(!o)throw"request supports no such callback '"+e+"'";m({id:t,callback:e,params:r})},error:function(e,n){if(o=!0,!f[t])throw"error called for nonexistent message: "+t;delete f[t],m({id:t,error:e,message:n})},complete:function(e){if(o=!0,!f[t])throw"complete called for nonexistent message: "+t;delete f[t],m({id:t,result:e})},delayReturn:function(t){return"boolean"==typeof t&&(r=!0===t),r},completed:function(){return o}}}(s.id,t,s.callbacks?s.callbacks:[]);if(u[e])try{if(s.callbacks&&n(s.callbacks)&&s.callbacks.length>0)for(var c=0;c<s.callbacks.length;c++){for(var l=s.callbacks[c],d=s.params,p=l.split("/"),y=0;y<p.length-1;y++){var v=p[y];"object"!=typeof d[v]&&(d[v]={}),d=d[v]}d[p[p.length-1]]=function(){var t=l;return function(e){return a.invoke(t,e)}}()}var g=u[e](a,s.params);a.delayReturn()||a.completed()||a.complete(g)}catch(t){var w="runtime_error",b=null;if("string"==typeof t?b=t:"object"==typeof t&&(t instanceof Error?(w=t.constructor.name,b=t.message):t&&n(t)&&2==t.length?(w=t[0],b=t[1]):"string"==typeof t.error&&(w=t.error,t.message?"string"==typeof t.message?b=t.message:t=t.message:b="")),null===b)try{void 0===(b=JSON.stringify(t))&&(b=t.toString())}catch(e){b=t.toString()}a.error(w,b)}else a.error("method_not_found","No method '"+e+"' was (yet) bound by the provider")}else s.id&&s.callback?h[s.id]&&h[s.id].callbacks&&h[s.id].callbacks[s.callback]?h[s.id].callbacks[s.callback](s.params):i("ignoring invalid callback, id:"+s.id+" ("+s.callback+")"):s.id?h[s.id]?(s.error?h[s.id].error&&h[s.id].error(s.error,s.message):void 0!==s.result?h[s.id].success(s.result):h[s.id].success(),delete h[s.id],delete r[s.id]):i("ignoring invalid response: "+s.id):e&&u[e]&&u[e]({origin:t},s.params)};!function(t,n,r,o){function i(e){for(var n=0;n<e.length;n++)if(e[n].win===t)return!0;return!1}var s=!1;if("*"===n){for(var a in e)if(e.hasOwnProperty(a)&&"*"!==a&&"object"==typeof e[a][r]&&(s=i(e[a][r])))break}else e["*"]&&e["*"][r]&&(s=i(e["*"][r])),!s&&e[n]&&e[n][r]&&(s=i(e[n][r]));if(s)throw"A channel is already bound to the same window which overlaps with origin '"+n+"' and has scope '"+r+"'";"object"!=typeof e[n]&&(e[n]={}),"object"!=typeof e[n][r]&&(e[n][r]=[]),e[n][r].push({win:t,handler:o})}(o.window,o.origin,o.scope,y);var v=function(t){return[o.scope,t].join("::")},m=function(t,e){if(!t)throw"postMessage called with null message";if(e||l){if("function"==typeof o.postMessageObserver)try{o.postMessageObserver(o.origin,t)}catch(t){i("postMessageObserver() raised an exception: "+t.toString())}i("post message: "+JSON.stringify(t)+" with origin "+o.origin),o.window.postMessage(JSON.stringify(t),o.origin)}else i("queue message: "+JSON.stringify(t)),d.push(t)},g=function(t,e){var n;t=[].concat(t);for(var r=0;r<t.length;r++)e[n=t[r].toString()]=function(t){return function(e,n,r){n?w.call({method:t,params:e,success:n,error:r}):w.notify({method:t,params:e})}}(n)},w={remote:{},unbind:function(t,e){if(u[t]){if(!delete u[t])throw"can't delete method: "+t;return o.publish&&!e&&(l?w.notify({method:"__unbind",params:t}):p.push({action:"unbind",method:t})),!0}return!1},bind:function(t,e,n){if(!t||"string"!=typeof t)throw"'method' argument to bind must be string";if(!e||"function"!=typeof e)throw"callback missing from bind params";if(u[t])throw"method '"+t+"' is already bound!";return u[t]=e,o.publish&&!n&&(l?w.notify({method:"__bind",params:t}):p.push({action:"bind",method:t})),this},call:function(e){if(!e)throw"missing arguments to call function";if(!e.method||"string"!=typeof e.method)throw"'method' argument to call must be string";if(!e.success||"function"!=typeof e.success)throw"'success' callback missing from call";var n={},o=[],i=[],s=function(t,e){if(function(t,e){for(var n=t.length,r=0;n>r;r++)if(t[r]===e)return r;return-1}(i,e)>=0)throw"params cannot be a recursive data structure";if(i.push(e),"object"==typeof e)for(var r in e)if(e.hasOwnProperty(r)){var a=t+(t.length?"/":"")+r;"function"==typeof e[r]?(n[a]=e[r],o.push(a),delete e[r]):"object"==typeof e[r]&&s(a,e[r])}};s("",e.params);var a,c,u,f={id:t,method:v(e.method),params:e.params};o.length&&(f.callbacks=o),e.timeout&&(a=t,c=e.timeout,u=v(e.method),window.setTimeout((function(){if(h[a]){var t="timeout ("+c+"ms) exceeded on method '"+u+"'";h[a].error&&h[a].error("timeout_error",t),delete h[a],delete r[a]}}),c)),h[t]={callbacks:n,error:e.error,success:e.success},r[t]=y,t++,m(f)},notify:function(t){if(!t)throw"missing arguments to notify function";if(!t.method||"string"!=typeof t.method)throw"'method' argument to notify must be string";m({method:v(t.method),params:t.params})},destroy:function(){!function(t,n,r){for(var o=e[n][r],i=0;i<o.length;i++)o[i].win===t&&o.splice(i,1);0===e[n][r].length&&delete e[n][r]}(o.window,o.origin,o.scope),window.removeEventListener?window.removeEventListener("message",y,!1):window.detachEvent&&window.detachEvent("onmessage",y),l=!1,u={},f={},h={},o.origin=null,d=[],i("channel destroyed"),c=""}};return w.bind("__ready",(function(t,e){if(i("ready msg received"),l&&!o.reconnect)throw"received ready message while in ready state.";l=!0,c.length<6&&("publish-request"===e.type?c+="-R":c+="-L"),i("ready msg accepted."),"publish-request"===e.type&&w.notify({method:"__ready",params:{type:"publish-reply",publish:p}});for(var n=0;n<e.publish.length;n++)"bind"===e.publish[n].action?g([e.publish[n].method],w.remote):delete w.remote[e.publish[n].method];for(o.reconnect||w.unbind("__ready",!0);d.length;)m(d.splice(0,1)[0]);p=[],"function"==typeof o.onReady&&o.onReady(w)}),!0),w.bind("__bind",(function(t,e){g([e],w.remote)}),!0),w.bind("__unbind",(function(t,e){w.remote[e]&&delete w.remote[e]}),!0),o.remote&&g(o.remote,w.remote),setTimeout((function(){c.length>0&&m({method:v("__ready"),params:{type:"publish-request",publish:p}},!0)}),0),w}}}()}()},function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return l}));var r,o,i=n(3),s=n(1);function a(t,e,n){var r;Object(s.g)()&&"strict"===(null===(r=n.sameSite)||void 0===r?void 0:r.toLowerCase())&&delete n.sameSite,i.set(t,e,n)}function c(t,e){var n;Object(s.g)()&&"strict"===(null===(n=e.sameSite)||void 0===n?void 0:n.toLowerCase())&&delete e.sameSite,i.remove(t,e)}function u(t,e){void 0===e&&(e="/");var n=Object(s.e)();null!=i.get(t)&&c(t,{domain:"",path:e,sameSite:"strict"});for(var r=n.length-1;--r>=0&&null!=i.get(t);)c(t,{domain:n[r],path:e,sameSite:"strict"})}function h(t,e){if(void 0===e&&(e="smartSignalsTest"),!navigator.cookieEnabled)return!1;var n=(new Date).valueOf().toString();try{try{var r=new Date;return r.setSeconds(r.getSeconds()+5),a(e,n,{domain:t,expires:r,sameSite:"strict"}),i.get(e)===n}finally{c(e,{domain:t,sameSite:"strict"})}}catch(t){}return!1}function f(t){if(void 0===t&&(t="smartSignalsTest"),o)return o;if(!1===r)return o={isSupported:!1,level:-1,name:void 0};for(var e=Object(s.e)(),n=0;n<e.length;n++)if(h(e[n],t))return o={isSupported:!0,name:e[n],level:n};return o={isSupported:!1,level:-1,name:void 0}}function l(t,e){var n;if(t<0){var r=Object(s.c)(e);n=Math.max(r+t,0)}else n=t;return Object(s.b)(n,e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2),o=function(){function t(t){this.engine=t,this.actionEventClient=new r.a(t.engineUrl)}return t.prototype.handle=function(t){var e=this;t.conf&&t.conf.delayInSeconds&&t.conf.delayInSeconds>0?setTimeout((function(){e.handleAction(t)}),1e3*t.conf.delayInSeconds):this.handleAction(t)},t}()},function(t,e,n){(function(e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,s=void 0,a=function(t,e){p[o]=t,p[o+1]=e,2===(o+=2)&&(s?s(y):b())},c="undefined"!=typeof window?window:void 0,u=c||{},h=u.MutationObserver||u.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(y,1)}}var p=new Array(1e3);function y(){for(var t=0;t<o;t+=2)(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0;o=0}var v,m,g,w,b=void 0;function O(t,e){var n=this,r=new this.constructor(_);void 0===r[S]&&R(r);var o=n._state;if(o){var i=arguments[o-1];a((function(){return T(o,r,i,n._result)}))}else k(n,r,t,e);return r}function C(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(_);return A(e,t),e}f?b=function(){return e.nextTick(y)}:h?(m=0,g=new h(y),w=document.createTextNode(""),g.observe(w,{characterData:!0}),b=function(){w.data=m=++m%2}):l?((v=new MessageChannel).port1.onmessage=y,b=function(){return v.port2.postMessage(0)}):b=void 0===c?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(y)}:d()}catch(t){return d()}}():d();var S=Math.random().toString(36).substring(2);function _(){}function x(e,n,r){n.constructor===e.constructor&&r===O&&n.constructor.resolve===C?function(t,e){1===e._state?I(t,e._result):2===e._state?j(t,e._result):k(e,void 0,(function(e){return A(t,e)}),(function(e){return j(t,e)}))}(e,n):void 0===r?I(e,n):t(r)?function(t,e,n){a((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?A(t,n):I(t,n))}),(function(e){r||(r=!0,j(t,e))}),t._label);!r&&o&&(r=!0,j(t,o))}),t)}(e,n,r):I(e,n)}function A(t,e){if(t===e)j(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)I(t,e);else{var n=void 0;try{n=e.then}catch(e){return void j(t,e)}x(t,e,n)}var r,o}function E(t){t._onerror&&t._onerror(t._result),P(t)}function I(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&a(P,t))}function j(t,e){void 0===t._state&&(t._state=2,t._result=e,a(E,t))}function k(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+1]=n,o[i+2]=r,0===i&&t._state&&a(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?T(n,r,o,i):o(i);t._subscribers.length=0}}function T(e,n,r,o){var i=t(r),s=void 0,a=void 0,c=!0;if(i){try{s=r(o)}catch(t){c=!1,a=t}if(n===s)return void j(n,new TypeError("A promises callback cannot return that same promise."))}else s=o;void 0!==n._state||(i&&c?A(n,s):!1===c?j(n,a):1===e?I(n,s):2===e&&j(n,s))}var U=0;function R(t){t[S]=U++,t._state=void 0,t._result=void 0,t._subscribers=[]}var L=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(_),this.promise[S]||R(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?I(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&I(this.promise,this._result))):j(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===C){var o=void 0,i=void 0,s=!1;try{o=t.then}catch(t){s=!0,i=t}if(o===O&&void 0!==t._state)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===N){var a=new n(_);s?j(a,i):x(a,t,o),this._willSettleAt(a,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===t?j(r,n):this._result[e]=n),0===this._remaining&&I(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;k(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}(),N=function(){function e(t){this[S]=U++,this._result=this._state=void 0,this._subscribers=[],_!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){A(t,e)}),(function(e){j(t,e)}))}catch(e){j(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return N.prototype.then=O,N.all=function(t){return new L(this,t).promise},N.race=function(t){var e=this;return r(t)?new e((function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},N.resolve=C,N.reject=function(t){var e=new this(_);return j(e,t),e},N._setScheduler=function(t){s=t},N._setAsap=function(t){a=t},N._asap=a,N.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=N},N.Promise=N,N},t.exports=r()}).call(this,n(11),n(13))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r,o=n(24);r=window.fetch?window:{fetch:o.a}},,,function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],h=!1,f=-1;function l(){h&&c&&(h=!1,c.length?u=c.concat(u):f=-1,u.length&&d())}function d(){if(!h){var t=a(l);h=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||h||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(t){this.isRegistered=!1,this.engine=t}return t.prototype.register=function(){if(this.isRegistered)throw new Error("Already register");return this.isRegistered=this.doRegister(),this.isRegistered},t.prototype.doRegister=function(){throw new Error("abstract")},t.prototype.unregister=function(){this.isRegistered&&(this.isRegistered=!1,this.doUnregister())},t.prototype.doUnregister=function(){throw new Error("abstract")},t}()},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return _}));var r=n(21),o=n(22),i=n(23),s=n(15),a=n(25),c=n(26),u=n(27),h=n(16),f=n(17),l=n(28),d=n(18),p=n(19),y=n(29),v=n(30),m=n(3),g=n(31),w=n(33),b=n(2),O=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},C=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},S=function(){function e(t){var n=this;this.eventFunctions=new Map,this.excludedUser=!1,this.initDone=!1,this.scopeName="SmartSignals2",this.actionHandlerManager=new y.a,this.handoverHandlerManager=new w.a,this.initQueue=new Array,this.hideActionsCounter=0,this.initialize(),this.setupCommunicationChannel(),this.errorService=new v.a(this.engineUrl),this.errorService.setListener(),t&&Array.isArray(t)&&t.length>0&&this.initQueue.push.apply(this.initQueue,t),this.userIdProviderManager=new o.a,this.localUserIdProvider=new i.a("LocalUserId",e.UidTokenPrefix,!0),this.eventSourceManger=new a.a,this.trackClient=new b.k(this.engineUrl),this.actionRevertClient=new b.c(this.engineUrl),this.registerCookieProviders(),this.conf.nativeEventTracking&&this.registerEventSources(),this.registerActionHanlers(),this.recognizeDealer().then((function(t){n.excludedUser=t,0==n.excludedUser&&n.resolveUserId().then((function(t){n.userIds=t,n.initDone=!0,n.push.apply(n,n.initQueue),n.initQueue.length=0}))}))}return e.prototype.add=function(t,e){return t+e},Object.defineProperty(e.prototype,"engineUrl",{get:function(){return this.conf.engineCNameUrl||this.conf.engineUrl},enumerable:!1,configurable:!0}),e.prototype.initialize=function(){function t(t){return t&&"/"==t.charAt(t.length-1)?t.substr(0,t.length-1):t}var o,i=new r.a("smartsignals2",["smart-digital-solutions.de","cdn.smartsignals2.smart-digital-solutions.de","cdn.smart-digital-solutions.com","smart-digital-cdn.com","localhost"]),s=i.flatten();n&&n.p&&(n.p="/"!=(o=i.origin+i.path).charAt(o.length-1)?o+"/":o);var a=s.adobeIdCookie;a&&"false"!=a.toLowerCase()?"true"==a.toLowerCase()&&(a=e.AdobeCookieName):a=void 0,this.conf={scriptId:s.scriptId,scriptUrl:t(i.origin),engineUrl:t(s.engineUrl||i.origin),nativeEventTracking:"false"!==s.nativeEventTracking,xdmRecognition:"true"==s.xdmRecognition,dealerRecognition:"true"==s.dealerRecognition,adobeIdCookie:a,smasi1IdCookie:"false"!==s.smasi1IdCookie,cleanUpOnURLChange:"true"==s.cleanUpOnURLChange,engineCNameUrl:t(s.engineCNameUrl)}},e.prototype.recognizeDealer=function(){var e=this;return this.conf.dealerRecognition?this.localUserIdProvider.isDealer?t.resolve(!0):Object(g.a)().then((function(t){return e.localUserIdProvider.isDealer=t})):t.resolve(!1)},e.prototype.on=function(t,e){if(t&&e){var n=this.eventFunctions.get(t);n?n.includes(e)||(n.push(e),this.eventFunctions.set(t,n)):this.eventFunctions.set(t,new Array(e))}},e.prototype.off=function(t,e){if(t&&e){var n=this.eventFunctions.get(t);if(n){var r=n.indexOf(e);-1!==r&&(n.splice(r,1),this.eventFunctions.set(t,n))}}},e.prototype.trigger=function(t,e){var n;null===(n=this.eventFunctions.get(t))||void 0===n||n.forEach((function(n){try{n(t,e)}catch(t){}}))},e.prototype.resolveUserId=function(t){return void 0===t&&(t=!1),t&&this.cachedResoveUserIdsPromise?this.cachedResoveUserIdsPromise:this.cachedResoveUserIdsPromise=this.resolveUserIdInternal()},e.prototype.resolveUserIdInternal=function(){var e,n,r=(new Date).valueOf()-this.localUserIdProvider.lastXdmCheck<864e5,o=[];try{for(var i=O(Object.entries(this.userIdProviderManager.getProviders())),s=i.next();!s.done;s=i.next()){var a=C(s.value,2),c=a[0],u=a[1];if("XdmUserId"===c){if(r)continue;this.localUserIdProvider.lastXdmCheck=(new Date).valueOf()}o.push(u.getUserId())}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return t.all(o)},e.prototype.registerCookieProviders=function(){this.userIdProviderManager.register("LocalUserId",this.localUserIdProvider),this.conf.xdmRecognition&&this.userIdProviderManager.register("XdmUserId",new s.a(this.conf.engineUrl,"smartSignals2UiD","XdmUserId")),this.conf.engineCNameUrl&&this.userIdProviderManager.register("ServerSideLocalUserId",new s.a(this.conf.engineCNameUrl,"smartSignals2sUiD","ServerSideLocalUserId"))},e.prototype.registerEventSources=function(){this.eventSourceManger.register("PageView",new c.a(this)),this.eventSourceManger.register("URLSourceChange",new u.a(this))},e.prototype.getUserId=function(t){return!(!t||!e.isFunction(t.onready))&&(this.resolveUserId(!0).then((function(e){var n;if(e&&e.length){var r=e.filter((function(t){return t.id&&-1==t.id.indexOf("*tmp*")}));if(r.length){var o=r.filter((function(t){return t.type==b.m.CrossDomain}));n=o.length?o[0].id:r[0].id}}t.onready({userId:n,success:!!n})})),!0)},e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.excludedUser||0===t.length)return 0;for(var n=0;n<t.length;n++)this.pushItem(t[n]);return t.length},e.prototype.pushItem=function(t){var n=this;if(this.initDone)if(t.$command){if(-1==e.apiCommands.indexOf(t.$command))return void(t.onready&&e.isFunction(t.onready)&&t.onready({success:!1,error:"Command Not Supported"}));var r=this[t.$command],o={onready:t.onready};r.apply(this,[o])}else this.trackClient.rtde(this.parseItemData(t)).then((function(r){if(n.handleRequestResponse(r),t.onflickeraction&&e.isFunction(t.onflickeraction)){var o=!!(r&&r.actions&&r.actions.length&&r.actions.some((function(t){return 1==(t.conf&&t.conf.flickerDefendingRequired)})));try{t.onflickeraction(o)}catch(t){}}if(t&&t.onready&&e.isFunction(t.onready))try{r&&r.resultData?t.onready(r.resultData):t.onready()}catch(t){}}));else this.initQueue.push(t)},e.prototype.registerActionHanlers=function(){this.actionHandlerManager.register(b.d.Cookie,new f.a(this)),this.actionHandlerManager.register(b.d.Overlay,new h.a(this)),this.actionHandlerManager.register(b.d.Script,new d.a(this)),this.actionHandlerManager.register(b.d.Html,new l.a(this)),this.actionHandlerManager.register(b.d.Voucher,new h.a(this)),this.actionHandlerManager.register(b.d.Pixel,new p.a(this)),this.handoverHandlerManager.register(b.f.Cookie,new f.a(this,!0)),this.handoverHandlerManager.register(b.f.Script,new d.a(this,!0)),this.handoverHandlerManager.register(b.f.Pixel,new p.a(this,!0))},e.prototype.getActionHandler=function(t){return this.actionHandlerManager.get(t)},e.prototype.getHandoverHandler=function(t){return this.handoverHandlerManager.get(t)},e.prototype.handleRequestResponse=function(e){var n,r,o,i,s=this;if(!e)return null;if(e.uIds&&e.uIds.length>0){var a=e.uIds[e.uIds.length-1],c=new Array,u=this.userIdProviderManager.getProviders();for(var h in u)c.push(u[h].setUserId(a.id,a.lifeTime));c.length>0&&t.all(c).then((function(){s.userIds&&s.userIds.forEach((function(t){return t.id=a.id}))}))}if(e.actions&&e.actions.length>0)try{for(var f=O(e.actions),l=f.next();!l.done;l=f.next()){var d=l.value;if(d.type)(v=this.actionHandlerManager.get(d.type))&&v.handle(d)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(e.handovers&&e.handovers.length>0)try{for(var p=O(e.handovers),y=p.next();!y.done;y=p.next()){var v,m=y.value;if(m.conf&&m.conf.dataExchangeType)(v=this.handoverHandlerManager.get(m.conf.dataExchangeType))&&v.handle(m)}}catch(t){o={error:t}}finally{try{y&&!y.done&&(i=p.return)&&i.call(p)}finally{if(o)throw o.error}}return e},e.prototype.unissuedAction=function(t){var e=t.conf,n={userId:t.userId,collectionId:t.collectionId,organizationId:t.organizationId,actionCategory:t.actionCategory,actionId:t.actionId,itemId:e.itemId,itemType:e.itemType};this.actionRevertClient.actionRevert(n)},e.prototype.getExternalCookies=function(){var t=m.get(),e=[];return this.conf.smasi1IdCookie&&e.push.apply(e,this.getSmasiCookies(t)),this.conf.adobeIdCookie&&e.push.apply(e,this.getAdobeCookies(t)),e},e.prototype.getSmasiCookies=function(t){var e=[];try{for(var n in t){var r=t[n].indexOf("|");0===n.lastIndexOf("smartSignalsUid_",0)&&e.push({context:n.replace("smartSignalsUid_",""),cookieName:n,system:"smasi1",purpose:"UserId",value:t[n].substring(0,-1!=r?r:void 0)})}}catch(t){}return e},e.prototype.getAdobeCookies=function(t){var e=[],n=this.conf.adobeIdCookie;try{if(t[n]){var r=t[n].match(/MCMID\|(\w+)/);r&&r.length>=2&&e.push({cookieName:n,system:"Adobe Global",value:r[1]})}}catch(t){}return e},e.prototype.parsePayload=function(t){var e=t;if("string"==typeof t)try{e=JSON.parse(t)}catch(e){return t}return e&&"object"==typeof e&&e.leadInformation&&e.leadInformation.additionalInformation&&"string"!=typeof e.leadInformation.additionalInformation&&(e.leadInformation.additionalInformation=JSON.stringify(e.leadInformation.additionalInformation)),JSON.stringify(e)},e.prototype.parseItemData=function(t){return{scriptVersion:e.Version,uIds:this.userIds,scriptId:this.conf.scriptId,event:t.event,eventObject:this.parsePayload(t.payload),url:window.location.href,urlReferrer:document.referrer,title:document.title,externalCookies:this.getExternalCookies(),timezoneOffset:-1*(new Date).getTimezoneOffset()}},e.prototype.setupCommunicationChannel=function(){var t=this;window.addEventListener&&window.addEventListener("message",(function(e){return t.onMessage(e)}),!1)},e.prototype.onMessage=function(t){var e=t.data;"SmasiEngineChannel"==e.source&&"push"==e.func&&e.data&&this.push.apply(this,e.data)},e.prototype.showActions=function(){--this.hideActionsCounter<=0&&(this.hideActionsCounter=0,[this.actionHandlerManager.get(b.d.Overlay),this.actionHandlerManager.get(b.d.Voucher)].forEach((function(t){return t.showActions()})))},e.prototype.hideActions=function(){this.hideActionsCounter++,[this.actionHandlerManager.get(b.d.Overlay),this.actionHandlerManager.get(b.d.Voucher)].forEach((function(t){return t.hideActions()}))},e.UidTokenPrefix="smartSignals2UiD",e.Version="202105191056",e.apiCommands=["getUserId"],e.AdobeCookieName="AMCV_1D59171B520E91320A490D44@AdobeOrg",e.isFunction=function(t){return"function"==typeof t},e}();function _(t){return t instanceof S||t&&"SmartSignals2"===t.scopeName}e.a=S}).call(this,n(7))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var r=n(2),o=function(){function e(t,e,n){this.cookieClient=new r.e(t,!0),this.cookieName=e,this.name=n}return e.prototype.getType=function(){return r.m.LocalServerSide},e.prototype.getUserId=function(){var e=this;return this.userId?t.resolve({id:this.userId,name:this.name,type:this.getType()}):this.cookieClient.getOrSetUserCookie(this.cookieName).then((function(t){return e.userId=t.value,e.lifeTime=t.lifeTime,{id:e.userId,name:e.name,type:e.getType()}}))},e.prototype.setUserId=function(e,n){var r=this;return this.userId===e&&this.lifeTime===n?t.resolve():this.cookieClient.setUserCookie(this.cookieName,{value:e,lifeTime:n}).then((function(){r.userId=e,r.lifeTime=n}))},e}()}).call(this,n(7))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r,o=n(6),i=n(1),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){return t.call(this,e)||this}return s(e,t),e.isBrowserSupported=function(){try{var t=document.createElement("div");return t.innerHTML="\x3c!--[if lt IE 8]><i></i><![endif]--\x3e",!(1==t.getElementsByTagName("i").length)}catch(t){}return!1},e.prototype.handleAction=function(t){var r=this;if(e.isBrowserSupported()){var o=t;o.triggerUrl&&Object(i.d)(o.triggerUrl)!==Object(i.d)(window.location.href)?this.engine.unissuedAction(o):this.handler?this.handler.handleAction(t):this.handlerPromise?this.handlerPromise.then((function(e){e.handleAction(t)})):this.handlerPromise=n.e(0).then(n.bind(null,50)).then((function(e){return r.handler=new e.OverlayActionHandler(r.engine),r.handler.handleAction(t),r.handler}))}else this.engine.unissuedAction(t)},e.prototype.showActions=function(){var t=this.handler;t&&t.showActions()},e.prototype.hideActions=function(){var t=this.handler;t&&t.hideActions()},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r,o=n(6),i=n(5),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n){void 0===n&&(n=!1);var r=t.call(this,e)||this;return r.ignoreControlGroupValue=n,r}return s(e,t),e.prototype.handleAction=function(t){if(!t.isInControlGroup||this.ignoreControlGroupValue){var e=t.conf;e&&e.cookieName&&e.cookieValue&&this.setCookie(e.cookieName,e.cookieValue,e.expireDays)}},e.prototype.setCookie=function(t,e,n){var r;Object(i.c)(t),r={domain:Object(i.a)().name,expires:n,path:"/",sameSite:"strict"},Object(i.d)(t,e,r)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,o=n(6),i=n(1),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(t){function e(e,n){void 0===n&&(n=!1);var r=t.call(this,e)||this;return r.ignoreControlGroupValue=n,r}return s(e,t),e.prototype.handleAction=function(t){if(!t.isInControlGroup||this.ignoreControlGroupValue){var e=t;if(e.triggerUrl&&Object(i.d)(e.triggerUrl)!==Object(i.d)(window.location.href))this.engine.unissuedAction(e);else{var n=t.conf;this.inject(n)}}},e.prototype.inject=function(t){var e=this;if(t){var n=new Array((function(){return e.removeOldElements(t.actionId)}));t.css&&n.push((function(){return e.injectCss(t.css,e.createElementId(t.actionId,"Css"))})),t.coreScript&&n.push((function(){return e.injectScript(t.coreScript,e.createElementId(t.actionId,"Core"))})),t.script&&n.push((function(){return e.injectScript(t.script,e.createElementId(t.actionId,"Dynamic"))})),Object(i.i)((function(){n.forEach((function(t){return t()}))}))}},e.prototype.injectScript=function(t,e){var n=document.createElement("script");n.text=t,e&&(n.id=e),document.body.appendChild(n)},e.prototype.injectCss=function(t,e){var n=document.createElement("style");n.type="text/css",e&&(n.id=e),n.appendChild(document.createTextNode(t)),document.head.appendChild(n)},e.prototype.createElementId=function(t,e){if(t)return"config."+t+"_script"+e},e.prototype.removeOldElements=function(t){var e,n,r;if(t)try{for(var o=a(new Array("Core","Dynamic","Css")),i=o.next();!i.done;i=o.next()){var s=i.value,c=this.createElementId(t,s);c&&(null===(r=document.getElementById(c))||void 0===r||r.remove())}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r,o=n(6),i=n(1),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e,n){void 0===n&&(n=!1);var r=t.call(this,e)||this;return r.ignoreControlGroupValue=n,r}return s(e,t),e.prototype.handleAction=function(t){if(!t.isInControlGroup||this.ignoreControlGroupValue){var e=t.conf;e&&e.url&&this.setPixel(e.url,e.alt)}},e.prototype.setPixel=function(t,e){Object(i.i)((function(){var n=document.createElement("img");n.src=t,e&&(n.alt=e),n.height=0,n.width=0,n.style.display="none",document.body.appendChild(n)}))},e}(o.a)},,function(t,e,n){"use strict";var r=function(){function t(t,e){this.query="",this.origin="",this.path="",this.scriptPath=t,this.processedScripts=new Array,this.domains=e,this.init()}return t.prototype.init=function(){for(var e=new RegExp(this.scriptPath.replace(".","\\.")+"(\\.min)?\\.js(\\?.*)?$"),n=document.getElementsByTagName("script"),r=0;r<n.length;r++){var o=n[r],i=this.getUrlParser(o.src);if(o.src&&o.src.match(e)&&this.isFromDomain(i,this.domains)){if(this.processedScripts.indexOf(o)>-1)continue;this.processedScripts.push(o);var s=o.src.match(/\?([^#]*)(#.*)?/);if(this.query=s?s[1]:"",this.origin=i.protocol+"//"+i.host,i.pathname){var a=t.fixIEPathname(i.pathname),c=a.lastIndexOf("/");-1!=c&&(this.path=a.substring(0,c+1))}break}}},t.prototype.parse=function(){for(var t={},e=this.query.split("&"),n=0;n<e.length;n++){var r=e[n].split("="),o=r[0],i=r[1];try{o=decodeURIComponent(r[0])}catch(t){}if(t[o]||(t[o]=[]),i)try{i=decodeURIComponent(i)}catch(t){i=unescape(i)}else i="true";var s=t[o];s[s.length]=i}return t},t.prototype.flatten=function(){var t=this.parse();for(var e in t)t[e]=t[e][0];return t},t.prototype.isFromDomain=function(t,e){for(var n=0;n<e.length;n++){var r="^(.*.)?"+e[n].replace(".",".")+"$";if(t.hostname.match(r))return!0}return!1},t.prototype.getUrlParser=function(t){var e=document.createElement("a");return e.href=t,e},t.fixIEPathname=function(t){return t&&t.length&&"/"!=t.charAt(0)?"/"+t:t},t}();e.a=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){this.userIdProviders={}}return t.prototype.register=function(t,e){e&&(this.userIdProviders[t]=e)},t.prototype.getProviderByName=function(t){return this.userIdProviders[t]},t.prototype.getProviders=function(){return this.userIdProviders},t.prototype.unregister=function(t){delete this.userIdProviders[t]},t}()},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));var r=n(3),o=n(2),i=n(1),s=n(5),a=function(){function e(t,e,n){var r=this;this.name=t,this.token=e,this.data={d:!1,xts:1},this.processCookieValues(),n&&(this.persist(),setInterval((function(){r.persist()}),6e5))}return e.prototype.getType=function(){return o.m.Local},e.prototype.getName=function(){return this.name},e.prototype.getUserId=function(){var e=this;return this.userId?t.resolve({id:this.userId,name:this.getName(),type:this.getType()}):(this.userId=Object(i.a)(),this.setUserId(this.userId,30).then((function(){return{id:e.userId,name:e.getName(),type:e.getType()}})))},e.prototype.setUserId=function(e,n){return this.update(e,n)?t.resolve():t.reject(void 0)},Object.defineProperty(e.prototype,"isDealer",{get:function(){return this.data.d},set:function(t){this.data.d=t,this.persist()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastXdmCheck",{get:function(){return this.data.xts},set:function(t){this.data.xts=t,this.persist()},enumerable:!1,configurable:!0}),e.prototype.isSupported=function(){return this.domain.isSupported},e.prototype.stringify=function(){return(this.userId||"")+"|"+this.domain.level+"|"+btoa(JSON.stringify(this.data))},e.prototype.update=function(t,e){return!!t&&(this.userId=t,this.data.lt=e,this.persist())},e.prototype.persist=function(){if(!this.isSupported())return!1;try{var t={domain:this.domain.name,path:"/",expires:this.data.lt||365,sameSite:"strict"};return Object(s.d)(this.token,this.stringify(),t),!0}catch(t){return!1}},e.prototype.processCookieValues=function(){var t=r.get(this.token);if(t){var e=t.split("|");if(e.length<1)this.domain=Object(s.a)();else{if(this.userId=e[0],e.length>1)try{var n=parseInt(e[1]);this.domain={isSupported:!0,level:n,name:Object(s.b)(n)}}catch(t){this.domain=Object(s.a)()}else this.domain=Object(s.a)();if(e.length>2)try{this.data=JSON.parse(atob(e[2]))}catch(t){}}}else this.domain=Object(s.a)()},e}()}).call(this,n(7))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return A}));var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r&&r,o="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,s="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(t){return t&&u.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function y(e){if(e.bodyUsed)return t.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new t((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(t){var e=new FileReader,n=v(e);return e.readAsArrayBuffer(t),n}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:s&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:o&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():c&&s&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(t)||h(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=y(this);if(e)return e;if(this._bodyBlob)return t.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return t.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return t.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=y(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?t.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):t.resolve(this._bodyArrayBuffer))}return this.blob().then(m)}),this.text=function(){var e,n,r,o=y(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,n=new FileReader,r=v(n),n.readAsText(e),r;if(this._bodyArrayBuffer)return t.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return t.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=f(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},p.prototype.delete=function(t){delete this.map[f(t)]},p.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},p.prototype.set=function(t,e){this.map[f(t)]=l(e)},p.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),d(t)},p.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),d(t)},i&&(p.prototype[Symbol.iterator]=p.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function O(t,e){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(e=e||{}).body;if(t instanceof O){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function C(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function S(t,e){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"",this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})},w.call(O.prototype),w.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];S.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})};var x=r.DOMException;try{new x}catch(t){(x=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),x.prototype.constructor=x}function A(e,n){return new t((function(t,o){var i=new O(e,n);if(i.signal&&i.signal.aborted)return o(new x("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,n,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",n=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var e=t.split(":"),r=e.shift().trim();if(r){var o=e.join(":").trim();n.append(r,o)}})),n)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;setTimeout((function(){t(new S(o,r))}),0)},a.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},a.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},a.onabort=function(){setTimeout((function(){o(new x("Aborted","AbortError"))}),0)},a.open(i.method,function(t){try{return""===t&&r.location.href?r.location.href:t}catch(e){return t}}(i.url),!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&(s?a.responseType="blob":c&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),!n||"object"!=typeof n.headers||n.headers instanceof p?i.headers.forEach((function(t,e){a.setRequestHeader(e,t)})):Object.getOwnPropertyNames(n.headers).forEach((function(t){a.setRequestHeader(t,l(n.headers[t]))})),i.signal&&(i.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",u)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}A.polyfill=!0,r.fetch||(r.fetch=A,r.Headers=p,r.Request=O,r.Response=S)}).call(this,n(7))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),o=function(){function t(){this.eventSources={}}return t.prototype.register=function(t,e){e&&(this.eventSources[t]=e,e.register())},t.prototype.get=function(t){return this.eventSources[t]},t.prototype.unregister=function(t){var e=this.eventSources[t];e&&(e.unregister(),Object(r.h)(this.eventSources,t))},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r,o=n(12),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.doRegister=function(){var t=this;return setTimeout((function(){t.engine.push({event:"General.Load"})}),0),!0},e.prototype.doUnregister=function(){},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r,o=n(12),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this,e)||this;return n.currentHash=location.hash,n.currentURL=location.pathname+"?"+location.search,n.historyApiHook=!1,n.hashChange=function(){n.currentHash!==location.hash&&(n.engine.push({event:"General.URLChange"}),n.timeID&&(clearTimeout(n.timeID),n.timeID=void 0),n.currentURL=location.pathname+"?"+location.search,n.currentHash=location.hash)},n.popState=function(t){n.currentURL===location.pathname+"?"+location.search&&n.currentHash===location.hash||(n.timeID=window.setTimeout((function(){n.engine.push({event:"General.URLChange"}),n.currentURL=location.pathname+"?"+location.search,n.currentHash=location.hash}),0))},n}return i(e,t),e.prototype.doRegister=function(){var t,e=this,n=this;return"onhashchange"in window?window.addEventListener?window.addEventListener("hashchange",this.hashChange,!1):window.attachEvent&&window.attachEvent("onhashchange",this.hashChange):(t=location.href,e.pollingTimer=window.setInterval((function(){var n=location.href;t!==n&&(t=n,e.hashChange.call(window))}),100)),window.addEventListener?window.addEventListener("popstate",this.popState,!1):window.attachEvent&&window.attachEvent("onpopstate",this.popState),window.history&&window.history.pushState&&window.history.replaceState&&(this.pushStateOrig=history.pushState,history.pushState=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=n.pushStateOrig.apply(this,t);try{if(n.currentURL===location.pathname+"?"+location.search&&n.currentHash===location.hash)return;n.engine.push({event:"General.URLChange"}),n.currentURL=location.pathname+"?"+location.search,n.currentHash=location.hash}catch(t){}return r},this.replaceStateOrig=history.replaceState,history.replaceState=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=n.replaceStateOrig.apply(this,t);try{if(n.currentURL===location.pathname+"?"+location.search&&n.currentHash===location.hash)return;n.engine.push({event:"General.URLChange"}),n.currentURL=location.pathname+"?"+location.search,n.currentHash=location.hash}catch(t){}return r},this.historyApiHook=!0),!0},e.prototype.doUnregister=function(){"onhashchange"in window?window.removeEventListener?window.removeEventListener("hashchange",this.hashChange,!1):window.attachEvent&&window.detachEvent("onhashchange",this.hashChange):(this.pollingTimer&&clearInterval(this.pollingTimer),this.pollingTimer=void 0),window.removeEventListener?window.removeEventListener("popstate",this.popState,!1):window.attachEvent&&window.detachEvent("onpopstate",this.popState),this.historyApiHook&&(history.pushState=this.pushStateOrig,history.replaceState=this.replaceStateOrig)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r,o=n(6),i=n(1),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(e){return t.call(this,e)||this}return s(e,t),e.prototype.handleAction=function(t){if(!t.isInControlGroup){var e=t.conf;Object(i.i)((function(){if(e&&e.html){var t=document.createElement("div");document.body.appendChild(t),Object(i.f)(t,e.html)}}))}},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),o=function(){function t(){this.actionHandlers={}}return t.prototype.register=function(t,e){e&&(this.actionHandlers[t]=e)},t.prototype.get=function(t){return this.actionHandlers[t]},t.prototype.unregister=function(t){this.actionHandlers[t]&&Object(r.h)(this.actionHandlers,t)},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2),o=function(){function t(t){this.errClient=new r.h(t)}return t.prototype.setListener=function(){var t=this;try{window.addEventListener("error",(function(e){try{e.filename&&-1!=e.filename.indexOf("smartsignals2",0)&&e.error&&t.logError(e.error,void 0,void 0)}catch(e){}}))}catch(t){}},t.prototype.logError=function(t,e,n){try{if(!t&&!e)return;"object"==typeof n&&(n=JSON.stringify(n));var r=void 0;t instanceof Error?r={errorMessage:t.message,name:t.name,stack:t.stack}:"string"==typeof t&&(r={errorMessage:t}),r&&this.errClient.error({errorInfo:r,userMessage:e,data:n})}catch(t){}},t.prototype.promiseHandter=function(t,e){var n=this;return function(r){n.logError(r,t,e)}},t}()},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var r=n(32);function o(){return new t((function(t,e){var n=new r.a("SmartSignals2-cdn","https://cdn.smart-digital-solutions.com/SmaSi2-Live/xdm/XdmProviderClient-cdn.html");n.getCookie("s2_dlrp").then((function(e){n.destroy(),t("1"==e)})).catch((function(t){return e(t)}))}))}}).call(this,n(7))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));var r=n(4),o=n(1),i=function(){function e(t,e){this.iframeSrc=e,this.scopeName=t,this.jsChannel=this.createChannel()}return e.prototype.destroy=function(){var t=this;this.jsChannel&&this.jsChannel.then((function(e){e.destroy(),t.iframe&&document.body.removeChild(t.iframe),delete t.jsChannel,delete t.iframe}))},e.prototype.createChannel=function(){var e=this;return new t((function(t,n){Object(o.i)((function(){e.iframe=document.createElement("iframe"),e.iframe.src=e.iframeSrc,e.iframe.hidden=!0,e.iframe.style.display="none",e.iframe.style.width="0",e.iframe.style.height="0",e.iframe.style.border="0",document.body.appendChild(e.iframe);var n={window:e.iframe.contentWindow,origin:"*",scope:e.scopeName,reconnect:!0},o=r.build(n);t(o)}))}))},e.prototype.getOrSetCookie=function(e,n,r){return this.jsChannel.then((function(o){return new t((function(t,i){o.call({method:"getOrSetCookie",params:{cookieName:e,value:n,expires:r},success:function(e){t(e)},error:function(t){i(t)}})}))}))},e.prototype.setCookie=function(e,n,r){return this.jsChannel.then((function(o){return new t((function(t,i){o.call({method:"setCookie",params:{cookieName:e,value:n,expires:r},success:function(){t()},error:function(t){i(t)}})}))}))},e.prototype.getCookie=function(e){return this.jsChannel.then((function(n){return new t((function(t,r){n.call({method:"getCookie",params:{cookieName:e},success:function(e){return t(e)},error:function(t){return r(t)}})}))}))},e.prototype.RemoveCookie=function(e){return this.jsChannel.then((function(n){return new t((function(t,r){n.call({method:"removeCookie",params:{cookieName:e},success:function(){t()},error:function(t){return r(t)}})}))}))},e}()}).call(this,n(7))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),o=function(){function t(){this.actionHandlers={}}return t.prototype.register=function(t,e){e&&(this.actionHandlers[t]=e)},t.prototype.get=function(t){return this.actionHandlers[t]},t.prototype.unregister=function(t){this.actionHandlers[t]&&Object(r.h)(this.actionHandlers,t)},t}()},function(t,e,n){t.exports=n(35)},function(t,e,n){"use strict";n.r(e);var r=n(14),o=window.smartSignals2,i=window.smartSignals2=Object(r.b)(o)?o:new r.a(o);e.default=i}]);